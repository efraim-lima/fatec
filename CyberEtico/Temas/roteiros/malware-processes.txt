- Passo n°1
Entender o processo de malware depende de entender o porquê ele é malicioso.

Vamos procurar em um repositório que tenho em meu github, onde simulo alguns malwares por processo padrão.

Link para o repo:
https://github.com/efraim-lima/malwares

-----------------------------------------------------------------

Gosto de tomar como exemplo alguns deles, 


Para analizarmos os processos de um malware precisamos ter uma máquina infectada. Para isso tenho uma máquina virtual que resolverá este problema

só lembrando: tudo o que será feito aqui será para propositos educacionais, então use de maneira ética e segura.
Outro ponto importante a se falar: alguns malwares podemdetectar que estão em ambiente de sandbox (VMs), portanto tenha muito cuidado com as configurações de sua VM caso queira replicar este estudo.

Para uma analise mais completa podemos usar o nemnux (uma distro linux para analise de malwares), presente no seguinte endereço:
https://docs.remnux.org

Depois disso vamos instalar o flare-vm do seguinte repo:
https://github.com/mandiant/flare-vm

Processo para instalar em uma maquina virtual windows:
`Set-ExecutionPolicy Unrestricted`
`Set-MpPreference -DisableIOAVProtection $true`
`Set-MpPreference -DisableRealtimeMonitoring $true`
`Set-MpPreference -DisableIntrusionPreventionSystem $true`
`Set-MpPreference -DisableScriptScanning $true`
`Set-MpPreference -DisableBehaviorMonitoring $true`
`Set-MpPreference -DisableAutoSampleSubmit $true`
`Get-MpPreference`
`wget https://raw.githubusercontent.com/mandiant/flare-vm/main/install.ps1 -UseBasicParsin -outfile C:\$env:USERNAME\<path>\install.ps1`
`cd C:\Users\$env:USERNAME\OndeDrive`
`.\install.ps1`


Primeiro um malware precisa ser acionado pelo usuário, algumas formas de interação são:
Na web:
-clicar em algum elemento infectado,
-passar o mouse sobre algum elemento infectado,
-interagir com elementos infectados,
-baixar elementos infectados,

No dispositivo (tendo baixado algum elemento infectado):
-instalar algum elemento,
-abrir algum elemento (ao abrir estamos executando o elemento [fotos, pdf, planilhas, ...)
-alguns malwares podem contar com um sistema de execução automática no sistema,

Exemplo:
falar do malware - spyware
README.txt

Rotina de instalação:
-pode ser baixado, neste caso podemos analisar os payloads dos pacotes,
-pode criar uma sequência de serviços e timers no sistema para garantir sua persistência,
-pode executar uma infinidade de varreduras no sistema em que está operando;

Execução
Como ja vimos antes, falando de tipos de malwares, podemos ter:
-leitura do teclado (ou o que é digitado);
-leitura da tela (ou o que é apresentado na tela);
-leitura de logs do sistema (para interpretar o que está sendo feito pelo usuário);
-leitura de pacotes de redes (para analisar sites que o usuário acessa);
-gravação de audio (para ouvir o que está sendo falado);
-comando e controle (para poder enviar comandos diretos ao sistema);
	-cliente
	-servidor
	-depende do usuário ter instalado o programa no sistema como administrador;


